<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>blog ember</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <!-- build:css(.tmp) styles/main.css -->
        <link rel="stylesheet" href="styles/main.css">
        <!-- endbuild -->
    </head>
    <body>
        <!--[if lt IE 10]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->


        <script type="text/x-handlebars" data-template-name="application">
            <div class="container">

                <div class="jumbotron">
                    <h1>Welcome to the blog</h1>
                    <p class="lead">live example with Javascript</p>
                </div>

                <div class="row marketing">
                    {{outlet}}
                </div>

                <div class="footer">
                    <p>â™¥ from Redoddity</p>
                </div>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="index">
            <div class="col-md-12">
                <ul class="media-list">
                    {{#each post in model}}
                        <li class="media">
                            <a class="pull-left" href="#">
                                <img class="media-object" src="http://placehold.it/50x50&text=Yo!" alt="{{post.title}}">
                            </a>
                            <div class="media-body">
                                <h4 class="media-heading">{{#link-to 'post' post}}{{post.title}}{{/link-to}}</h4>
                                <p>{{post.ellipsis}}</p>
                            </div>
                        </li>
                    {{/each}}
                </ul>
            </div>
        </script>


        <script type="text/x-handlebars" data-template-name="post">
            <div class="col-lg-12">
                <h4>{{title}}</h4>
                <p>{{text}}</p>
                <p>

                <h5>Comments: </h5>
                {{#if comments}}
                    <ul class="media-list">
                       {{#each comment in comments}}
                            <li class="media">
                                <div class="media-body">
                                    <h5 class="media-heading">On {{comment.date}}, {{comment.author}} said:</h5>
                                    <p>{{comment.text}}</p>
                                </div>
                            </li>
                        {{/each}}
                    </ul>
                {{else}}
                    <p>No comments for this post.</p>
                {{/if}}
                <form class="form-horizontal" {{action 'addComment' on='submit'}}>
                    <div class="form-group">
                        <label>Author:</label> {{view Ember.TextField name="author" class="form-control" valueBinding="controller.commentAuthor"}}
                        <span class="help-block">{{#unless controller.commentAuthor}}Please, fill author field{{/unless}}</span>
                    </div>
                    <div class="form-group">
                        <label>Text:</label> {{view Ember.TextArea name="text" class="form-control" valueBinding="controller.commentText" rows="3"}}
                        <span class="help-block">{{#unless controller.commentText}}Please, fill text field{{/unless}}</span>
                    </div>
                    <button type="submit" class="btn btn-info pull-right">Comment</button>
                </form>
                </p>
            </div>
        </script>

        <!-- build:js scripts/vendor.js -->
        <!-- bower:js -->
        <script src="bower_components/jquery/jquery.js"></script>
        <script src="bower_components/handlebars/handlebars.js"></script>
        <script src="bower_components/ember/ember.prod.js"></script>
        <script src="bower_components/moment/moment.js"></script>
        <!-- endbower -->
        <!-- endbuild -->

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>

        <!-- build:js scripts/main.js -->
        <script src="scripts/main.js"></script>
        <!-- endbuild -->

</body>
</html>
